{
  "version": 3,
  "sources": ["browser-route-module:routes/rh.empleados._index.tsx?browser", "../../../app/routes/rh.empleados._index.tsx", "../../../app/components/SearchBar.tsx"],
  "sourcesContent": ["export { default } from \"./routes/rh.empleados._index.tsx\";", "import { LoaderArgs, LoaderFunction } from \"@remix-run/node\";\r\nimport FAB from \"~/components/FAB\";\r\nimport InformacionCantidad from \"~/components/InformacionCantidad\";\r\nimport InformacionDinero from \"~/components/InformacionDinero\";\r\nimport InformacionGeneral from \"~/components/InformacionGeneral\";\r\nimport Title from \"~/components/Title\";\r\nimport { Option } from \"~/components/InputMenu\";\r\nimport InputMenu from \"~/components/InputMenu\";\r\nimport TextField from \"~/components/TextField\";\r\nimport SearchBar from \"~/components/SearchBar\";\r\nimport { useActionData, useLoaderData, useNavigate, useSearchParams } from \"@remix-run/react\";\r\nimport Tabla, { Header, Row } from \"~/components/Tabla\";\r\nimport { buscarEmpleadosPorRFC, getContarEmpleadosVacaciones, getEmpleados } from \"~/utils/empleados.server\";\r\nimport { Empleado, EmpleadoEncontrado } from \"~/types/Empleado\";\r\nexport const loader: LoaderFunction = async ({ request }:LoaderArgs) => {\r\n    const url = new URL(request.url);\r\n    const searchParams = url.searchParams;\r\n    const searchValue = searchParams.get(\"searchValue\");\r\n    let data : Row[] = [];\r\n    let empleados :EmpleadoEncontrado[]=[];\r\n\r\n    if(!searchValue){\r\n       \r\n        empleados = await getEmpleados(request);\r\n    } else {\r\n        empleados = await buscarEmpleadosPorRFC(request, searchValue);\r\n        \r\n    }\r\n\r\n    data = empleados.map((empleado)=>{\r\n        return {\r\n            id:empleado.id,\r\n            data:[empleado.rfc,empleado.nombre,empleado.puesto,empleado.salario.toString(),empleado.indiceProductividad.toString(),empleado.idLugar,empleado.fechaDeIngreso.toLocaleDateString() ]\r\n        }\r\n    })\r\n\r\n    \r\n\r\n    return {\r\n        searchValue,\r\n        title:\"Empleados\",\r\n        data\r\n    };\r\n}\r\nexport default function Index(){\r\n    const [searchParams]=useSearchParams()\r\n    const searchValue = searchParams.get(\"searchValue\")\r\n    const headers = [\"RFC\",\"Nombre\",\"Puesto\",\"Sueldo\", \"Prod\", \"Lugar\", \"Fecha Ingreso\"]\r\n    const navigate = useNavigate()\r\n    const loaderData = useLoaderData<typeof loader>();\r\n    const openEmpleado = (id:string) => {\r\n        navigate(`/rh/empleados/${id}`);\r\n    };\r\n    const rows:Row[]=[{\r\n        id:\"ejemploderfc\",\r\n        data:[\"ejemploderfc23\",\"Ejemplo de nombre\",\"Ejemplo de puesto\",\"$1000\",\"0.95\",\"Ejemplo de lugar\",\"Ejemplo de fecha\"]\r\n    }]\r\n\r\n  \r\n\r\n    return(\r\n        <>\r\n            <SearchBar label={\"Buscar empleados por RFC, nombre o correo\"}\r\n                value={searchValue?searchValue:\"\"}\r\n            />\r\n            <Tabla headers={headers} rows={loaderData.data} onRowSelected={openEmpleado }/>\r\n        </>\r\n    )\r\n}", "import { Form, useSubmit } from \"@remix-run/react\";\r\nimport Button from \"./Button\";\r\nimport InputMenu from \"./InputMenu\";\r\nimport { Option } from \"./InputMenu\";\r\nimport { LegacyRef, useRef } from \"react\";\r\n\r\nexport default function SearchBar(props:{label:string, collapsed?:boolean, searchSuggestFunction?:(value:string)=>Option[], maxLenght?:number, value?:string}){\r\n    \r\n    const formRef = useRef<HTMLFormElement>(null)\r\n    const submit = useSubmit();\r\n    return(\r\n        <Form reloadDocument={false}\r\n            name=\"search\" \r\n            method=\"get\" \r\n            className=\"searchBar\" \r\n            onChange={(e)=>{!props.searchSuggestFunction && submit(e.currentTarget)}} \r\n            ref={formRef}>\r\n            <InputMenu \r\n                label={props.label} \r\n                name={\"searchValue\"} \r\n                variant={\"outlined\"} \r\n                suggestFunction={props.searchSuggestFunction}\r\n                maxLenght={props.maxLenght}\r\n                onEnterPressed={()=>formRef.current?.submit()}\r\n                onOptionClicked={()=>formRef.current?.submit()}\r\n                initialValue={props.value}\r\n            />\r\n            {\r\n                props.collapsed ? <Button type=\"submit\" \r\n                    \r\n                    variant=\"filled\" \r\n                    icon=\"search\" \r\n                    className=\"primary\" \r\n                />\r\n                :<Button \r\n                    \r\n                    label={\"Buscar\"} \r\n                    type={\"submit\"} \r\n                    variant={\"filled\"} \r\n                    className=\"primary\" \r\n                    icon=\"search\"\r\n                />\r\n            }\r\n        </Form> \r\n        \r\n        \r\n    );\r\n\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAIA,IAAAA,gBAAkC;AAatB;AAXG,SAAR,UAA2B,OAA4H;AAE1J,QAAM,cAAU,sBAAwB,IAAI;AAC5C,QAAM,SAAS,UAAU;AACzB,SACI;AAAA,IAAC;AAAA;AAAA,MAAK,gBAAgB;AAAA,MAClB,MAAK;AAAA,MACL,QAAO;AAAA,MACP,WAAU;AAAA,MACV,UAAU,CAAC,MAAI;AAAC,SAAC,MAAM,yBAAyB,OAAO,EAAE,aAAa;AAAA,MAAC;AAAA,MACvE,KAAK;AAAA,MACL;AAAA;AAAA,UAAC;AAAA;AAAA,YACG,OAAO,MAAM;AAAA,YACb,MAAM;AAAA,YACN,SAAS;AAAA,YACT,iBAAiB,MAAM;AAAA,YACvB,WAAW,MAAM;AAAA,YACjB,gBAAgB,MAAE;AAvBlC;AAuBoC,mCAAQ,YAAR,mBAAiB;AAAA;AAAA,YACrC,iBAAiB,MAAE;AAxBnC;AAwBqC,mCAAQ,YAAR,mBAAiB;AAAA;AAAA,YACtC,cAAc,MAAM;AAAA;AAAA,UARxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QASA;AAAA,QAEI,MAAM,YAAY;AAAA,UAAC;AAAA;AAAA,YAAO,MAAK;AAAA,YAE3B,SAAQ;AAAA,YACR,MAAK;AAAA,YACL,WAAU;AAAA;AAAA,UAJI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAKlB,IACC;AAAA,UAAC;AAAA;AAAA,YAEE,OAAO;AAAA,YACP,MAAM;AAAA,YACN,SAAS;AAAA,YACT,WAAU;AAAA,YACV,MAAK;AAAA;AAAA,UANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAOD;AAAA;AAAA;AAAA,IA9BR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgCA;AAKR;;;ADpCA,uBAAkF;AAiD1E,IAAAC,0BAAA;AAjBO,SAAR,QAAwB;AAC3B,QAAM,CAAC,YAAY,IAAE,gBAAgB;AACrC,QAAM,cAAc,aAAa,IAAI,aAAa;AAClD,QAAM,UAAU,CAAC,OAAM,UAAS,UAAS,UAAU,QAAQ,SAAS,eAAe;AACnF,QAAM,WAAW,YAAY;AAC7B,QAAM,aAAa,cAA6B;AAChD,QAAM,eAAe,CAAC,OAAc;AAChC,aAAS,iBAAiB,IAAI;AAAA,EAClC;AACA,QAAM,OAAW,CAAC;AAAA,IACd,IAAG;AAAA,IACH,MAAK,CAAC,kBAAiB,qBAAoB,qBAAoB,SAAQ,QAAO,oBAAmB,kBAAkB;AAAA,EACvH,CAAC;AAID,SACI,wFACI;AAAA;AAAA,MAAC;AAAA;AAAA,QAAU,OAAO;AAAA,QACd,OAAO,cAAY,cAAY;AAAA;AAAA,MADnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAEA;AAAA,IACA,oDAAC,SAAM,SAAkB,MAAM,WAAW,MAAM,eAAe,gBAA/D;AAAA;AAAA;AAAA;AAAA,WAA6E;AAAA,OAJjF;AAAA;AAAA;AAAA;AAAA,SAKA;AAER;",
  "names": ["import_react", "import_jsx_dev_runtime"]
}
